import{j as ie,a as x,t as w,c as S,s as R}from"../chunks/disclose-version.NPOJ68_k.js";import{l as F,w as oe,aG as fe,aH as ce,aI as ue,v as V,C as ve,B as Q,D as X,U as le,E as Y,ao as T,W as de,aJ as _e,aK as pe,at as me,e as he,aL as be,O as q,aM as ge,N as ye,aN as ke,aO as xe,ay as L,af as P,Z as Ae,p as ee,a as te,c as $,f as C,r as I,h as j,t as U,aj as z,s as Ne}from"../chunks/runtime.C8hakOeC.js";import{i as re}from"../chunks/if.mZF-4KgY.js";import"../chunks/legacy.hyI-xTqg.js";import{e as Te,i as je,s as B}from"../chunks/class.BtKon3tj.js";import{s as Z}from"../chunks/attributes.DzBxy3oR.js";import{i as Ie}from"../chunks/lifecycle.DttWnUL_.js";import{s as we,a as Ee}from"../chunks/store.Cv-9RcV1.js";import{s as Oe}from"../chunks/entry.CitKJstn.js";import{p as $e}from"../chunks/index.Cix7cfaI.js";function Ce(e,t,a){F&&oe();var r=e,s=le,f,c=fe()?ce:ue;V(()=>{c(s,s=t())&&(f&&ve(f),f=Q(()=>a(r)))}),F&&(r=X)}function D(e,t,...a){var r=e,s=T,f;V(()=>{s!==(s=t())&&(f&&(de(f),f=null),f=Q(()=>s(r,...a)))},Y),F&&(r=X)}function ae(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=ae(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function Se(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=ae(e))&&(r&&(r+=" "),r+=t);return r}function G(e){return typeof e=="object"?Se(e):e??""}const Fe=()=>performance.now(),k={tick:e=>requestAnimationFrame(e),now:()=>Fe(),tasks:new Set};function se(){const e=k.now();k.tasks.forEach(t=>{t.c(e)||(k.tasks.delete(t),t.f())}),k.tasks.size!==0&&k.tick(se)}function Me(e){let t;return k.tasks.size===0&&k.tick(se),{promise:new Promise(a=>{k.tasks.add(t={c:e,f:a})}),abort(){k.tasks.delete(t)}}}function O(e,t){e.dispatchEvent(new CustomEvent(t))}function Re(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function H(e){const t={},a=e.split(";");for(const r of a){const[s,f]=r.split(":");if(!s||f===void 0)break;const c=Re(s.trim());t[c]=f.trim()}return t}const qe=e=>e;function K(e,t,a,r){var s=(e&be)!==0,f=(e&ke)!==0,c=s&&f,p=(e&xe)!==0,g=c?"both":s?"in":"out",u,i=t.inert,o,n;function l(){var _=Ae,y=q;L(null),P(null);try{return u??(u=a()(t,(r==null?void 0:r())??{},{direction:g}))}finally{L(_),P(y)}}var d={is_global:p,in(){var _;if(t.inert=i,!s){n==null||n.abort(),(_=n==null?void 0:n.reset)==null||_.call(n);return}f||o==null||o.abort(),O(t,"introstart"),o=M(t,l(),n,1,()=>{O(t,"introend"),o==null||o.abort(),o=u=void 0})},out(_){if(!f){_==null||_(),u=void 0;return}t.inert=!0,O(t,"outrostart"),n=M(t,l(),o,0,()=>{O(t,"outroend"),_==null||_()})},stop:()=>{o==null||o.abort(),n==null||n.abort()}},v=q;if((v.transitions??(v.transitions=[])).push(d),s&&ie){var h=p;if(!h){for(var b=v.parent;b&&b.f&Y;)for(;(b=b.parent)&&!(b.f&_e););h=!b||(b.f&pe)!==0}h&&me(()=>{he(()=>d.in())})}}function M(e,t,a,r,s){var f=r===1;if(ge(t)){var c,p=!1;return ye(()=>{if(!p){var h=t({direction:f?"in":"out"});c=M(e,h,a,r,s)}}),{abort:()=>{p=!0,c==null||c.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return s(),{abort:T,deactivate:T,reset:T,t:()=>r};const{delay:g=0,css:u,tick:i,easing:o=qe}=t;var n=[];if(f&&a===void 0&&(i&&i(0,1),u)){var l=H(u(0,1));n.push(l,l)}var d=()=>1-r,v=e.animate(n,{duration:g});return v.onfinish=()=>{var h=(a==null?void 0:a.t())??1-r;a==null||a.abort();var b=r-h,_=t.duration*Math.abs(b),y=[];if(_>0){if(u)for(var m=Math.ceil(_/16.666666666666668),A=0;A<=m;A+=1){var N=h+b*o(A/m),ne=u(N,1-N);y.push(H(ne))}d=()=>{var E=v.currentTime;return h+b*o(E/_)},i&&Me(()=>{if(v.playState!=="running")return!1;var E=d();return i(E,1-E),!0})}v=e.animate(y,{duration:_,fill:"forwards"}),v.onfinish=()=>{d=()=>r,i==null||i(r,1-r),s()}},{abort:()=>{v&&(v.cancel(),v.effect=null,v.onfinish=T)},deactivate:()=>{s=T},reset:()=>{r===0&&(i==null||i(1,0))},t:()=>d()}}const Le=!0,it=Object.freeze(Object.defineProperty({__proto__:null,prerender:Le},Symbol.toStringTag,{value:"Module"})),Pe=()=>{const e=Oe;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},Ue={subscribe(e){return Pe().page.subscribe(e)}};var ze=w('<a target="_blank" rel="noopener noreferrer"> </a>'),Be=w("<a> </a>"),Ze=w('<header class="text-lg"><nav class="flex font-sk"></nav></header>');function De(e,t){ee(t,!1);const a=we(),r=()=>Ee(Ue,"$page",a),s=[{label:"钟",href:"/",key:"home"},{label:"工",href:"/projects",key:"projects"},{label:"思",href:"/thoughts",key:"thoughts"},{label:"喜",href:"/favorites",key:"favorites"},{label:"历",href:"/pdf/Nick_Zhong_CV.pdf",key:"cv"}],f={home:"primary-100",projects:"primary-110",thoughts:"primary-120",favorites:"primary-130"};function c(i){if(i==="/")return"home";switch(i.replace(/\/$/,"").split("/")[1]){case"projects":return"projects";case"thoughts":return"thoughts";case"favorites":return"favorites";default:return""}}function p(i,o){const n=f[i],l=i===o;let d="flex flex-grow text-2xl font-thin items-center justify-center h-[2.5rem]";return l?`${d} bg-${n} text-primary-200`:[d,`text-${n}`,`border border-${n}`,`hover:bg-${n} hover:text-primary-200`].join(" ")}Ie();var g=Ze(),u=$(g);Te(u,5,()=>s,je,(i,o)=>{let n=()=>j(o).label,l=()=>j(o).href,d=()=>j(o).key;var v=S(),h=C(v);{var b=y=>{var m=ze();const A=z(()=>G(p(c(r().url.pathname),d())));var N=$(m,!0);I(m),U(()=>{Z(m,"href",l()),B(m,j(A),""),R(N,n())}),x(y,m)},_=y=>{var m=Be();const A=z(()=>G(p(c(r().url.pathname),d())));var N=$(m,!0);I(m),U(()=>{Z(m,"href",l()),B(m,j(A),""),R(N,n())}),x(y,m)};re(h,y=>{d()==="cv"?y(b):y(_,!1)})}x(i,v)}),I(u),I(g),x(e,g),te()}function Ge(e){return e*e*e}function He(e){const t=e-1;return t*t*t+1}function Ke(e){const t=e-1;return t*t*t+1}function W(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function J(e,{delay:t=0,duration:a=400,easing:r=Ke,x:s=0,y:f=0,opacity:c=0}={}){const p=getComputedStyle(e),g=+p.opacity,u=p.transform==="none"?"":p.transform,i=g*(1-c),[o,n]=W(s),[l,d]=W(f);return{delay:t,duration:a,easing:r,css:(v,h)=>`
			transform: ${u} translate(${(1-v)*o}${n}, ${(1-v)*l}${d});
			opacity: ${g-i*h}`}}var We=w("<main><!></main>"),Je=w("<!> <!>",1);function ot(e,t){ee(t,!0);const a=/Android|iPhone/i.test(navigator.userAgent),r=matchMedia("(prefers-reduced-motion: reduce)").matches;var s=Je(),f=C(s);De(f,{});var c=Ne(f,2);{var p=u=>{var i=S(),o=C(i);D(o,()=>t.children),x(u,i)},g=u=>{var i=S(),o=C(i);Ce(o,()=>$e.url,n=>{var l=We(),d=$(l);D(d,()=>t.children),I(l),K(1,l,()=>J,()=>({x:-10,duration:350,delay:350,easing:He})),K(2,l,()=>J,()=>({y:5,duration:350,easing:Ge})),x(n,l)}),x(u,i)};re(c,u=>{a||r?u(p):u(g,!1)})}x(e,s),te()}export{ot as component,it as universal};
